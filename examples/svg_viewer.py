from coldtype import *
from coldtype.raster import *
from coldtype.img.skiasvg import SkiaSVG

import skia

doc = """<?xml version="1.0" encoding="iso-8859-1"?>
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
<g>
	<polygon style="fill:#F4B2B0;" points="280.608,247.082 410.28,247.082 410.28,123.527 337.197,123.527 337.197,156.085 
		87.722,156.085 87.722,123.527 14.639,123.527 14.639,430.728 280.608,430.728 	"/>
	<polygon style="fill:#F4B2B0;" points="414.534,247.082 412.448,247.082 412.448,324.299 495.959,324.299 	"/>
</g>
<path style="fill:#B3404A;" d="M497.361,363c-8.084,0-14.639,6.554-14.639,14.639v99.451H295.248v-46.36V261.724h102.563v62.577
	c0,8.085,6.555,14.639,14.639,14.639h83.51c5.992,0,11.377-3.651,13.598-9.217c2.219-5.566,0.823-11.922-3.525-16.044l-81.111-76.92
	V123.527c0-8.085-6.555-14.639-14.639-14.639h-58.446V92.343c0-8.085-6.555-14.639-14.639-14.639h-52.668
	c-8.084,0-14.639,6.554-14.639,14.639c0,8.085,6.555,14.639,14.639,14.639h38.029v16.545v17.919H102.362v-17.919v-16.545h38.027
	c8.084,0,14.639-6.554,14.639-14.639c0-31.668,25.764-57.431,57.431-57.431c15.804,0,30.531,6.286,41.47,17.7
	c5.594,5.838,14.861,6.034,20.698,0.439c5.837-5.594,6.034-14.86,0.441-20.698c-16.513-17.23-38.748-26.719-62.609-26.719
	c-42.825,0-78.498,31.204-85.473,72.07H87.723c-8.084,0-14.639,6.554-14.639,14.639v16.545H14.639
	C6.555,108.888,0,115.442,0,123.527v307.201c0,8.085,6.555,14.639,14.639,14.639h251.332v46.36c0,8.085,6.555,14.639,14.639,14.639
	h216.752c8.084,0,14.639-6.554,14.639-14.639V377.639C512,369.554,505.445,363,497.361,363z M427.087,309.66v-30.499l32.162,30.499
	H427.087z M29.278,416.089V138.166h43.807v17.919c0,8.085,6.555,14.639,14.639,14.639h249.474c8.084,0,14.639-6.554,14.639-14.639
	v-17.919h43.807v94.277H280.609c-8.084,0-14.639,6.554-14.639,14.639l0,0v169.006H29.278V416.089z"/>
</svg>"""

# doc = """<?xml version="1.0" encoding="iso-8859-1"?>
# <svg id="glyph49" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="800" height="800"><g transform="matrix(1,0,-0.1405,1,-11,61)" ><image href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAIAAADTED8xAAADMElEQVR4nOzVwQnAIBQFQYXff81RUkQCOyDj1YOPnbXWPmeTRef+/3O/OyBjzh3CD95BfqICMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMO0TAAD//2Anhf4QtqobAAAAAElFTkSuQmCC"/></g></svg>
# """

dom = skia.SVGDOM.MakeFromStream(skia.MemoryStream(doc.encode('utf-8')))
dom.setContainerSize(skia.Size(1080, 1080))

@renderable()
def scratch(r):
    return (SkiaSVG(dom))
